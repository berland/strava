---
title: "Automating my Strava"
author: "HÃ¥vard Berland"
format: revealjs
---

## Me

- Marathon runner (2:33:xx in Barcelona this Sunday)
- Developer, both at work and at home
- 2-3 running workouts a day

## Problem at hand
:::{.incremental}
- 2-3 workouts a day. Stick to "Morning Run", "Afternoon Run", etc?
- Automate fiddling in the Strava app for every workout
- Analyze runs, make statistics
:::

## Data flow

![](gfx/strava-dataflow.drawio.svg)

## Features
:::{.incremental}
- Detects my commutes, mutes them and sends me a notification to select shoe pair.
- Auto-sets shoe-pair for my return commute.
- Analyzes interval sessions. Rigid running protocol for every Tuesday, Thursday and Saturday.
:::

## Technical
:::{.incremental}
- Strava calls my home server through ngrok reverse proxy, activity supplied as
  a `dict` to a Python function in my FastAPI application
- Looks up XML file from Polar on local disk, and performs analysis of the workout
- Updates tokens regularly, and performs initial token handshake
- github.com/berland/strava

## Data analysis

- Interval speed for Tuesday 1000m over time
- Crossplot heart rate vs speed


